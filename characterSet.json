{
  "$schema": "https://json-schema.org/draft-07/schema",
  "$id": "./characterSet.json",
  "title": "characterSet",
  "description": "A List of characters that can be spawned in with code.\nthey can also have custom scripts.",
  "type": "object",
  "definitions": {
    "hit": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "col": {
          "type": "string"
        },
        "offset": {
          "type": "array",
          "items": {
            "type": "number",
            "minimum": 0
          }
        }
      },
      "required": ["col", "offset"]
    },
    "script": {
      "additionalProperties": false,
      "type": "object",
      "properties": {
        "scriptPath": {
          "$ref": "./smPath.json",
          "description": "Path to the script"
        },
        "scriptClass": {
          "type": "string",
          "description": "The class that the game will inject all the callbacks and properties into"
        },
        "data": {
          "type": "object",
          "description": "Additional data provided to the script available under self.data"
        }
      },
      "required": ["scriptPath", "scriptClass"]
    }
  },
  "properties": {
    "characters": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "uuid": { "$ref": "./uuid.json" },
          "renderables": {
            "type": "array",
            "items": { "$ref": "./smPath.json" }
          },
          "ragdoll": { "$ref": "./smPath.json" },
          "tumble": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "col": { "$ref": "./smPath.json" },
              "offset": {
                "type": "array",
                "items": {
                  "type": "number",
                  "minimum": 0
                }
              }
            }
          },
          "hit": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "crouch": { "$ref": "#/definitions/hit" },
              "stand": { "$ref": "#/definitions/hit" }
            }
          },
          "unit": { "$ref": "#/definitions/script" },
          "character": { "$ref": "#/definitions/script" },
          "movement": {
            "type": "object",
            "properties": {
              "moveSpeed": { "type": "number" },
              "slowDownSpeed": { "type": "number" },
              "crouchSpeed": { "type": "number" },
              "sprintSpeed": { "type": "number" },
              "headingRotationSpeed": { "type": "number" },
              "facingRotationSpeed": { "type": "number" },
              "canSwim": { "type": "boolean" }
            }
          },
          "capsule": {
            "type": "object",
            "properties": {
              "radius": { "type": "number" },
              "height": { "type": "number" },
              "crouchHeight": { "type": "number" }
            }
          },
          "mass": { "type": "number" },
          "characterShapeUuid": {
            "$ref": "./uuid.json"
          },
          "paint": {
            "enable": { "type": "boolean" },
            "defaultColor": {
              "$ref": "./hexColor.json"
            },
            "effect": {
              "$ref": "./effect.json"
            }
          },
          "sound": {
            "type": "object",
            "properties": {
              "movementSoundFrames": {
                "type": "array",
                "items": {
                  "type": "integer"
                }
              },
              "crouchedMovementSoundFrames": {
                "type": "array",
                "items": {
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    }
  }
}
